from rsa import PrivateKey

from Client_table import create
from Messaging import Messaging
import rsa
import os
# private_key = PrivateKey(94057119611095946281523367855001930801008421995257743937642282436572904657606798603159545412659607974565461332313984750403479192213716994833909001676613969160857359369527054950459340417810569591327134941274724766743027563401125940872842341580457651667285658979777888792614809061606256624792008312706379659423, 65537, 71006760301487450420749349954896860221107049249086350291572540180842593204445640900406208231025935946863615436739043738818721279795624792657620584247748430209449636091451102749634101425151825899888744004896526399575336543792572850333391758150184017553950497099292264725231157999223672606869968602259178242753, 31067739183999633716586899374098108391539732821505341391700469278197198203423594409202270042756491843806579044825279055798692098282389225505000063087261771695493833, 3027485168909130597493564545442259317987169266388265641686283112427577262038522832254853920077608954017635129785589934275926684674703488250248231)

with open(os.getcwd()+"/NS-project/src/server/private_key.pem", 'rb') as file:
    data = file.read()
private_key = rsa.PrivateKey.load_pkcs1(data, 'PEM')

messaging = Messaging(private_key)
messaging.create_socket(2051)
try:
    create()
except:
    pass

messaging.start()
